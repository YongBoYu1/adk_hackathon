# ğŸ”§ Cloud Runéƒ¨ç½²é—®é¢˜ä¿®å¤

## âŒ åŸé—®é¢˜
```
unable to prepare context: unable to evaluate symlinks in Dockerfile path: 
lstat /workspace/Dockerfile: no such file or directory
```

## ğŸ” é—®é¢˜åŸå› 
`.gcloudignore` æ–‡ä»¶ä¸­è¯¯å°† `Dockerfile` å’Œ `.dockerignore` åˆ—ä¸ºéœ€è¦å¿½ç•¥çš„æ–‡ä»¶ï¼Œå¯¼è‡´å®ƒä»¬æ²¡æœ‰è¢«ä¸Šä¼ åˆ°Cloud Buildå·¥ä½œç©ºé—´ã€‚

## âœ… è§£å†³æ–¹æ¡ˆ

### 1. ä¿®å¤ .gcloudignore æ–‡ä»¶
```bash
# å°†è¿™ä¸¤è¡Œæ³¨é‡Šæ‰
# Dockerfile
# .dockerignore
```

### 2. éªŒè¯æ–‡ä»¶ä¸Šä¼ 
åˆ›å»ºäº† `test_build.sh` è„šæœ¬æ¥éªŒè¯æ–‡ä»¶æ˜¯å¦æ­£ç¡®ä¸Šä¼ ï¼š
```bash
./test_build.sh
```

### 3. å¢å¼ºéƒ¨ç½²è„šæœ¬
æ›´æ–°äº† `deploy_cloudrun.sh`ï¼Œæ·»åŠ äº†éƒ¨ç½²å‰éªŒè¯ï¼š
- æ£€æŸ¥å¿…éœ€æ–‡ä»¶æ˜¯å¦å­˜åœ¨
- æ˜¾ç¤ºå°†è¦ä¸Šä¼ çš„æ–‡ä»¶åˆ—è¡¨
- æä¾›æ›´è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯

## ğŸ‰ ä¿®å¤ç»“æœ

æœ€æ–°çš„æ„å»ºæµ‹è¯•æ˜¾ç¤ºï¼š
- âœ… **æ„å»ºçŠ¶æ€**: SUCCESS  
- âœ… **æ–‡ä»¶ä¸Šä¼ **: Dockerfile å’Œ requirements.txt æ­£ç¡®ä¸Šä¼ 
- âœ… **Dockeré•œåƒ**: æˆåŠŸæ„å»º
- âœ… **ä¾èµ–å®‰è£…**: æ‰€æœ‰PythonåŒ…æ­£ç¡®å®‰è£…

## ğŸ“‹ éªŒè¯æ­¥éª¤

### 1. æ£€æŸ¥å½“å‰é…ç½®
```bash
# ç¡®è®¤æ–‡ä»¶å­˜åœ¨
ls -la Dockerfile requirements.txt main.py

# ç¡®è®¤.gcloudignoreæ­£ç¡®é…ç½®
grep -E "^(Dockerfile|requirements.txt)" .gcloudignore || echo "æ–‡ä»¶æœªè¢«å¿½ç•¥ âœ…"
```

### 2. æµ‹è¯•æ„å»º
```bash
# å¿«é€Ÿæ„å»ºæµ‹è¯•
./test_build.sh

# æˆ–è€…ç›´æ¥æµ‹è¯•
gcloud builds submit --tag gcr.io/YOUR_PROJECT/test .
```

### 3. å®Œæ•´éƒ¨ç½²
```bash
# ç°åœ¨å¯ä»¥å®‰å…¨éƒ¨ç½²
./deploy_cloudrun.sh
```

## ğŸš€ ç°åœ¨å‡†å¤‡å°±ç»ª

æ‰€æœ‰é—®é¢˜å·²ä¿®å¤ï¼Œæ‚¨ç°åœ¨å¯ä»¥ï¼š

1. **ç«‹å³éƒ¨ç½²**:
   ```bash
   ./deploy_cloudrun.sh
   ```

2. **ç›‘æ§éƒ¨ç½²**:
   ```bash
   gcloud builds list --limit=5
   gcloud run services list
   ```

3. **è®¿é—®åº”ç”¨**:
   éƒ¨ç½²å®Œæˆåå°†è·å¾—ä¸€ä¸ªHTTPS URL

## ğŸ“Š ä¿®å¤çš„å…·ä½“æ–‡ä»¶

| æ–‡ä»¶ | ä¿®å¤å†…å®¹ |
|------|----------|
| `.gcloudignore` | æ³¨é‡Šæ‰Dockerfileå’Œ.dockerignore |
| `deploy_cloudrun.sh` | æ·»åŠ éƒ¨ç½²å‰éªŒè¯ |
| `test_build.sh` | æ–°å»ºï¼šæ„å»ºæµ‹è¯•è„šæœ¬ |

## ğŸ’¡ ç»éªŒæ•™è®­

1. **æ£€æŸ¥.gcloudignore**: ç¡®ä¿å¿…éœ€çš„æ„å»ºæ–‡ä»¶æ²¡æœ‰è¢«å¿½ç•¥
2. **åˆ†æ­¥æµ‹è¯•**: å…ˆæµ‹è¯•æ„å»ºï¼Œå†è¿›è¡Œå®Œæ•´éƒ¨ç½²
3. **è¯¦ç»†æ—¥å¿—**: åœ¨è„šæœ¬ä¸­æ·»åŠ æ›´å¤šéªŒè¯æ­¥éª¤

## ğŸ¯ ä¸‹ä¸€æ­¥

ç°åœ¨æ„å»ºé—®é¢˜å·²è§£å†³ï¼Œæ‚¨å¯ä»¥ï¼š
- è¿è¡Œ `./deploy_cloudrun.sh` è¿›è¡Œå®Œæ•´éƒ¨ç½²
- è®¾ç½®APIå¯†é’¥ç¯å¢ƒå˜é‡
- è®¿é—®éƒ¨ç½²çš„åº”ç”¨URL

**é—®é¢˜å·²å®Œå…¨è§£å†³ï¼ğŸ‰**